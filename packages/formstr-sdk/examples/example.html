<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Formstr SDK Demo</title>
    <style>
      /* ===========================
       Base Page Styling
       =========================== */
      body {
        font-family:
          Inter,
          system-ui,
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          sans-serif;
        background: linear-gradient(180deg, #f3f4f6 0%, #fafafa 100%);
        color: #111827;
        padding: 2rem;
      }

      .form-container {
        max-width: 720px;
        margin: 0 auto;
        background: #ffffff;
        border-radius: 20px;
        padding: 2.5rem;
        box-shadow:
          0 20px 40px rgba(0, 0, 0, 0.08),
          0 1px 0 rgba(0, 0, 0, 0.04);
        position: relative;
      }

      h1 {
        text-align: center;
        margin-bottom: 2rem;
        font-size: 1.85rem;
        font-weight: 700;
        letter-spacing: -0.02em;
      }

      /* ===========================
       Horizontal Sections Wrapper
       =========================== */
      .formstr-theme .form-body {
        display: flex;
        flex-direction: row;
        gap: 0;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        scroll-behavior: smooth;
        padding-bottom: 2rem;
        position: relative;
      }

      .formstr-theme .form-body::-webkit-scrollbar {
        height: 8px;
      }
      .formstr-theme .form-body::-webkit-scrollbar-thumb {
        background: #d1d5db;
        border-radius: 999px;
      }

      .formstr-theme .form-body .form-section {
        scroll-snap-align: start;
        min-width: 100%;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      /* ===========================
       Scroll Arrows
       =========================== */
      .scroll-arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 2rem;
        height: 2rem;
        background: rgba(0, 0, 0, 0.05);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 10;
        transition: background 0.2s ease;
      }
      .scroll-arrow:hover {
        background: rgba(0, 0, 0, 0.1);
      }
      .scroll-left {
        left: 0.5rem;
      }
      .scroll-right {
        right: 0.5rem;
      }

      .scroll-arrow svg {
        width: 1rem;
        height: 1rem;
        fill: #6366f1;
      }

      /* ===========================
       Field Cards
       =========================== */
      .form-section > *:not(.section-title):not(.section-description) {
        background: #ffffff;
        border-radius: 14px;
        padding: 1.1rem 1.25rem;
        border: 1px solid #e5e7eb;
        box-shadow: 0 1px 0 rgba(0, 0, 0, 0.02);
      }

      label {
        font-weight: 500;
        font-size: 0.9rem;
        color: #111827;
      }

      input[type="text"],
      textarea {
        width: 100%;
        padding: 0.7rem 0.85rem;
        font-size: 0.95rem;
        border-radius: 10px;
        border: 1px solid #d1d5db;
        background: #ffffff;
        transition:
          border-color 0.15s ease,
          box-shadow 0.15s ease;
      }
      input[type="text"]:focus,
      textarea:focus {
        outline: none;
        border-color: #6366f1;
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.18);
      }

      .option-group {
        display: flex;
        flex-direction: column;
        gap: 0.6rem;
        background: #f9fafb;
        border-radius: 12px;
        padding: 1rem 1.1rem;
        border: 1px solid #e5e7eb;
      }
      .option-group label {
        display: flex;
        align-items: center;
        gap: 0.6rem;
        font-size: 0.95rem;
        cursor: pointer;
      }
      input[type="radio"] {
        accent-color: #6366f1;
      }

      p {
        font-size: 0.95rem;
        color: #374151;
        line-height: 1.6;
        background: #f9fafb;
        padding: 0.9rem 1rem;
        border-radius: 12px;
        border: 1px solid #e5e7eb;
      }

      /* ===========================
       Submit Button (fixed)
       =========================== */
      #submit-container {
        position: sticky; /* keeps it visible while scrolling sections */
        bottom: 0;
        display: flex;
        justify-content: center;
        padding: 1rem 0;
        background: #fafafa; /* can match form background */
        border-top: 1px solid #e5e7eb;
        z-index: 10;
      }

      #submit-container button {
        padding: 0.8rem 1.25rem;
        font-size: 0.95rem;
        font-weight: 600;
        border-radius: 12px;
        border: none;
        cursor: pointer;
        background: linear-gradient(135deg, #6366f1, #4f46e5);
        color: #fff;
        transition:
          transform 0.12s ease,
          box-shadow 0.12s ease;
      }
      #submit-container button:hover {
        transform: translateY(-1px);
        box-shadow: 0 8px 22px rgba(79, 70, 229, 0.28);
      }
      #submit-container button:active {
        transform: translateY(0);
        box-shadow: 0 4px 14px rgba(79, 70, 229, 0.22);
      }
      #submit-container {
        position: sticky; /* keeps it visible while scrolling sections */
        bottom: 0;
        display: flex;
        justify-content: center;
        padding: 1rem 0;
        background: #fafafa; /* can match form background */
        border-top: 1px solid #e5e7eb;
        z-index: 10;
      }
    </style>
  </head>
  <body>
    <div class="form-container">
      <h1>Formstr SDK Demo</h1>
      <div class="formstr-theme">
        <div id="container"></div>
        <div id="submit-container"></div>
        <!-- scroll arrows -->
        <div class="scroll-arrow scroll-left" id="scroll-left">
          <svg viewBox="0 0 20 20">
            <path
              d="M12.707 15.707a1 1 0 0 1-1.414 0L6.586 11a1 1 0 0 1 0-1.414l4.707-4.707a1 1 0 1 1 1.414 1.414L9.414 10l3.293 3.293a1 1 0 0 1 0 1.414z"
            />
          </svg>
        </div>
        <div class="scroll-arrow scroll-right" id="scroll-right">
          <svg viewBox="0 0 20 20">
            <path
              d="M7.293 4.293a1 1 0 0 1 1.414 0L13.414 10l-4.707 4.707a1 1 0 1 1-1.414-1.414L10.586 10 7.293 6.707a1 1 0 0 1 0-1.414z"
            />
          </svg>
        </div>
      </div>
    </div>

    <script src=""></script>
"></script>
    <script>
      const sdk = new FormstrSDK.FormstrSDK();

      async function main() {
        const naddr =
          "naddr1qvzqqqr4mqpzp4s20jn3nd8vrhwl3kkz48t52u43ktx5l5zed6rzc9uzh0v9rp73qy2hwumn8ghj7un9d3shjtnyv9kh2uewd9hj7qghwaehxw309aex2mrp0yh8qunfd4skctnwv46z7qgdwaehxw309ahx7uewd3hkcqg7waehxw309aex2mrp0yhxummnw3ezuamfwfjkgmn9wshx5up0qyw8wumn8ghj7mn0wd68ytfsxyh8jcttd95x7mnwv5hxxmmdqyv8wumn8ghj7un9d3shjtnndehhyapwwdhkx6tpdsq3vamnwvaz7tmjv4kxz7fwdehhxarj9e3xzmnyqyghwumn8ghj7mn0wd68yv339e3k7mgqqekyz7tt23eszuk4n8";
        const viewKey =
          "8cf912f49ea084ccaff51f6d9de6324eedad56110598cd381218c70fed800c8f";

        const form = await sdk.fetchFormWithViewKey(naddr, viewKey);
        sdk.renderHtml(form);

        document.getElementById("container").innerHTML = form.html.form;
        sdk.attachSubmitListener(form, undefined, {
          onSuccess() {
            console.log("On success triggered, showing thank you screen");
            document.getElementById("container").innerHTML = `
      <div class="thank-you">
        <h2>Thank you! ðŸŽ‰</h2>
        <p>Your response has been submitted.</p>
      </div>
    `;
          },
          onError(err) {
            alert("Submission failed. Try again.");
            console.error(err);
          },
        });

        // Scroll arrows logic
        const body = document.querySelector(".form-body");
        document.getElementById("scroll-left").onclick = () => {
          body.scrollBy({ left: -body.offsetWidth, behavior: "smooth" });
        };
        document.getElementById("scroll-right").onclick = () => {
          body.scrollBy({ left: body.offsetWidth, behavior: "smooth" });
        };
      }

      main();
    </script>
  </body>
</html>
